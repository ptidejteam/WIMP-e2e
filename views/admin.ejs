<!DOCTYPE html>
<html>
<head>
	<title>User Management System</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
	<div class="container">
		<h2 class="mt-4">User Management System</h2>
		<table class="table table-striped">
			<thead>
				<tr>
					<th>User Id</th>
					<th>User Name</th>
					<th>User Email</th>
					<th>Age</th>
					<th>Actions</th>
				</tr>
			</thead>
			<tbody>
				<% data.forEach(element => { %>
					<tr>
						<td><%= element.userUniqueId %></td>
						<td><%= element.userName %></td>
						<td><%= element.userEmail %></td>
						<td><%= element.userAge %></td>
						<td>
							<button class="btn btn-primary btn-sm" data-toggle="modal" data-target="#userModal" data-user-id="<%= element.userUniqueId %>" data-user-name="<%= element.userName %>" data-user-email="<%= element.userEmail %>" data-user-age="<%= element.userAge %>">Edit</button>
							<button class="btn btn-danger btn-sm" onclick="deleteUser('<%= element.userUniqueId %>')">Delete</button>
						</td>
					</tr>
				<% }) %>
			</tbody>
		</table>	
		<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#userModal">Add User</button>
		<h5 class="mt-4"><a href="/wimps">Wimp data</a></h5>
	</div>

	<!-- User Modal -->
	<div class="modal fade" id="userModal" tabindex="-1" role="dialog" aria-labelledby="userModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="userModalLabel">Add/Edit User</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<form id="userForm" onsubmit="saveUser(event)">
						<input type="hidden" id="userId" name="userUniqueId">
						<div class="form-group">
							<label for="userName">User Name:</label>
							<input type="text" class="form-control" id="userName" name="userName" required>
						</div>
						<div class="form-group">
							<label for="userEmail">User Email:</label>
							<input type="email" class="form-control" id="userEmail" name="userEmail" required>
						</div>
						<div class="form-group">
							<label for="userAge">Age:</label>
							<input type="number" class="form-control" id="userAge" name="userAge" required>
						</div>
						<button type="submit" class="btn btn-primary">Save User</button>
					</form>
				</div>
			</div>
		</div>
	</div>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
	<script src="./js/admin.js"></script>
	<script src="./js/modal.js"></script>

</body>
</html>